import { mockEndpointBuilder } from "./mockEndpointBuilder.mjs";
export class MockServer {
    constructor({ baseUrl, server }) {
        this.baseUrl = baseUrl.endsWith("/") ? baseUrl.slice(0, -1) : baseUrl;
        this.server = server;
    }
    mockEndpoint(options) {
        const builder = mockEndpointBuilder({
            once: options === null || options === void 0 ? void 0 : options.once,
            onBuild: (handler) => {
                this.server.use(handler);
            },
        }).baseUrl(this.baseUrl);
        return builder;
    }
}
