"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MockServer = void 0;
const mockEndpointBuilder_js_1 = require("./mockEndpointBuilder.js");
class MockServer {
    constructor({ baseUrl, server }) {
        this.baseUrl = baseUrl.endsWith("/") ? baseUrl.slice(0, -1) : baseUrl;
        this.server = server;
    }
    mockEndpoint(options) {
        const builder = (0, mockEndpointBuilder_js_1.mockEndpointBuilder)({
            once: options === null || options === void 0 ? void 0 : options.once,
            onBuild: (handler) => {
                this.server.use(handler);
            },
        }).baseUrl(this.baseUrl);
        return builder;
    }
}
exports.MockServer = MockServer;
